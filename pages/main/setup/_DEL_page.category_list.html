<page onload=onPageLoad(this)><div id=list_items><div class="card mb-1 w-100"><div class="align-items-center card-header d-flex p-1" style=height:35px><div class=me-auto id=item_title></div><div class="ms-1 ps-4"><button class="btn btn-sm btn-primary me-1" type=button id=btn_insert>추가</button> <button class="btn btn-sm btn-secondary" type=button data-bs-toggle=collapse data-bs-target=.group_x aria-expanded=false aria-controls=.group_x><div class="collapse group_x hide"><i class="fa-solid fa-caret-down"></i></div><div class="collapse group_x show"><i class="fa-solid fa-caret-up"></i></div></button></div></div><ul class="collapse group_x show list-group list-group-flush"></ul></div></div></page><script>function onPageLoad(t){var o=frameGetPage(t),e=o.getParam();function a(){var t={cate_group:e.cate_group};$.post("/main/category/item/select",t,function(t){console.log("/main/category/item/select:",t);var n=o.findItem(".list-group");n.html(""),t.data.forEach(function(e){var t;null==e.cate_item||e.cate_item.length<=0||((t=$("<li/>").addClass("list-group-item d-flex p-1").html(`
        <div class="d-flex align-items-center" id="item_account">${e.cate_item}</div>
        <button class="btn btn-warning btn-sm text-nowrap ms-auto me-1" type="button" id="btn_modify">수정</button>
        <button class="btn btn-danger btn-sm text-nowrap" type="button" id="btn_delete">삭제</button>
                `)).find("#btn_modify").click(function(){e.title="분류 수정",e.btn_confirm="수정",console.log("modify:",e),o.openModal("https://lclasser.github.io/sbalance/pages/main/modal/modal.info_citem.html",e,function(t){null!=t&&(console.log("result:",t),a())})}),t.find("#btn_delete").click(function(){o.openModal("https://lclasser.github.io/sbalance/pages/main/modal/modal.confirm.html",{title:"삭제 확인",content:`"${e.cate_item}" 분류를 삭제 하시겠습니까?`,btn_confirm:"삭제",btn_cancel:"취소"},function(t){1==t&&(t={cate_idx:e.cate_idx},$.post("/main/category/item/delete",t,function(t){console.log("/main/category/item/update res:",t),"Y"==t.error.success&&a()}))})}),n.append(t))})})}console.log("pparam:",e),o.findItem("#item_title").html(e.cate_group),o.findItem("#btn_insert").click(function(){var t={title:"분류 추가",btn_confirm:"추가",cate_group:e.cate_group};o.openModal("https://lclasser.github.io/sbalance/pages/main/modal/modal.info_citem.html",t,function(t){null!=t&&a()})}),a()}</script>