<div page-declare=dpage class="h-100 w-100" onload=onPageLoad(this) onclose=onPageClose(this)><div class="nav-link p-0" style=right:20px;bottom:50px;position:fixed><i class="fa-solid menu-icons fa-bars" data-bs-toggle=dropdown aria-expanded=false></i><ul class=dropdown-menu aria-labelledby=dropdown style=width:220px><li><a class="align-items-center d-flex dropdown-item p-2" href=javascript:void(0); id=mnu_wallet_add><span class="me-auto menu-content">지갑 추가하기</span> <i class="fa-solid menu-icons fa-circle-plus"></i></a><li><a class="align-items-center d-flex dropdown-item p-2" href=javascript:void(0); id=mnu_link_req><span class="me-auto menu-content">공유 요청하기</span> <i class="fa-solid menu-icons fa-square-share-nodes"></i></a></ul></div><div id=list_items class=overflow-hidden></div></div><script>function print_wallet(t,a){return window.SBalance.request("/main/account/list",null).then(function(t){a.removeAllRows(),STracer("page.wallet.html").log("res.data:",t.data),t.data.forEach(function(t,e){switch(t.acc_type){case"A":t.type_name="자동";break;case"S":t.type_name="본인";break;case"L":t.type_name="공유",t.link_cnt="";break;default:t.type_name="-"}a.insertRow(t)})})}function onPageLoad(t){var e=t.getPage(),t=(STracer("page.wallet.html").dbg("onPageLoad..."),e.find("#list_items").get(0)),a=new CompSGridList(t,{"col-height":35,"row-height":40,"row-bgcolor":function(t){return null},"row-fgcolor":function(t){return"#ffffff"},"border-color":"#000000"});a.createGrid([{id:"acc_company",width:"30%",type:"string",text:"금융사"},{id:"acc_alias",width:"30%",type:"string",text:"별칭"},{id:"type_name",width:"20%",type:"string",text:"소유"},{id:"link_cnt",width:"25%",type:"string",text:"공유"}]),a.onClickRow=function(t){window.openModal("https://lclasser.github.io/sbalance/pages/main/modal/modal.wallet.html",t.data,function(t){null!=t&&print_wallet(e,a)})},e.find("#mnu_wallet_add").click(function(){window.openModal("https://lclasser.github.io/sbalance/pages/main/modal/modal.wallet.html",{title:"지갑 추가"},function(t){1==t&&print_wallet(e,a)})}),e.find("#mnu_link_req").click(function(){var t="/api/link?type=link&modal=wallet&key="+window.SBalance.getSignin("share_key");STracer("page.wallet.html").log("공유 요청:",t),window.SBalance.shareLink(t)}),print_wallet(e,a)}function onPageClose(t){STracer("page.wallet.html").dbg("onPageClose:",t)}</script>