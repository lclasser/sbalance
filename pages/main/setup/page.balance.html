<style>.list-item{width:80px!important;text-align:center;font-weight:400;color:var(--theme-color-selected)}.text-desc{--font-size:12px}</style><div page-declare=dpage class=sb-page onload=onPageLoad(this)><ul class="sb-list sb-menu"><li class=list-row><label class=list-head><div class=menu-text>첫 화면</div><div class=memo-text>가계부 화면의 처음 표시 화면</div></label> <span class=list-item id=home_screen style=width:80px>일별 화면</span><li class=list-line><li class="list-row form-check form-switch"><label class=list-head for=disp_except><div class=menu-text>표시(제외) 숨기기</div><div class=memo-text>가계부에서 표시가 '제외'인 항목 숨기기</div></label><div class="list-item align-items-center d-flex form-check form-switch h-100 p-0" style=width:70px><input class="m-0 form-check-input h-50 p-0 sb-switch w-100" type=checkbox id=disp_except></div><li class=list-line><li class="list-row month_sday"><label class=list-head><div class=menu-text>시작일</div><div class=memo-text>가계부 월의 시작일자</div></label><div class=list-item><p class=m-0 id=month_sday>1</div><li class=list-line><li class="list-row month_smonth"><label class=list-head><div class=menu-text>기준월</div><div class=memo-text>가계부 시작일의 기준월</div></label><div class=list-item><p class=m-0 id=month_smonth>당월</div><li class=list-line><li class="list-row month_sbusi"><label class=list-head for=tmp_select><div class=menu-text>시작일의 영업일</div><div class=memo-text>시작일이 휴일일 경우 이전,다음 영업일 선택 방법</div></label><div class=list-item><p class=m-0 id=month_sbusi>변경 없음</div></ul></div><script>function onPageLoad(t){var n=t.getPage();function a(n){window.SBalance.request("/main/user/select",null).then(function(t){stracer("page.balance.html").log("users:",t),null!=t.error&&"Y"!=t.error.success&&alert(`사용자 정보를 확인할 수 없습니다.(${t.error})`);t=t.data[0];switch(t.home_screen){case"M":n.find("#home_screen").html("달력 화면");break;case"C":n.find("#home_screen").html("분류 화면");break;case"W":n.find("#home_screen").html("지갑 화면");break;default:n.find("#home_screen").html("일별 화면")}"H"==t.disp_except&&n.find("#disp_except").attr("checked",!0),n.find("#month_sday").html(t.month_sday+" 일"),n.find("#month_sday").attr("value",t.month_sday);var e="",e="P"===t.month_smonth?`<p class="m-0">전월</p><p class="m-0 text-desc">(${(new Date).getMonth()+0} 월)</p>`:`<p class="m-0">당월</p><p class="m-0 text-desc">(${(new Date).getMonth()+1} 월)</p>`,s=(n.find("#month_smonth").html(e),n.find("#month_smonth").attr("value",t.month_smonth),"");switch(t.month_sbusi){case"P":s="이전<br>금요일";break;case"N":s="다음<br>월요일";break;default:s="변경없음"}n.find("#month_sbusi").html(s),n.find("#month_sbusi").attr("value",t.month_sbusi)})}stracer("page.balance.html").log("page.balance.html"),a(n),$("#disp_except").click(function(){var e=$(this).prop("checked");window.SBalance.request("/main/user/update",{disp_except:1==e?"H":"D"}).then(function(t){null!=t&&window.toast({title_class:"bg-success text-white",title_text:"정보 업데이트",mesg_text:1==e?"표시(제외) 항목을 숨김니다.":"표시(제외) 항목을 표시합니다."})})}),$(".month_sday").click(function(){window.popver("https://lclasser.github.io/sbalance/pages/main/popver/select.month_sday.html",{value:n.find("#month_sday").attr("value")},function(e){stracer("page.balance.html").log("result:",e),null!=e&&window.SBalance.request("/main/user/update",{month_sday:e.value}).then(function(t){window.toast({title_class:"bg-success text-white",title_text:"정보 업데이트",mesg_text:`월 시작일이 ${e.value} 일로 변경되었습니다.`}),a(n)})})}),$(".month_smonth").click(function(){window.popver("https://lclasser.github.io/sbalance/pages/main/popver/select.month_smonth.html",{value:n.find("#month_smonth").attr("value")},function(e){stracer("page.balance.html").log("result:",e),null!=e&&window.SBalance.request("/main/user/update",{month_smonth:e.value}).then(function(t){window.toast({title_class:"bg-success text-white",title_text:"정보 업데이트",mesg_text:`기준월이 ${e.desc}로 변경되었습니다.`}),a(n)})})}),$(".month_sbusi").click(function(){window.popver("https://lclasser.github.io/sbalance/pages/main/popver/select.month_sbusi.html",{value:n.find("#month_sbusi").attr("value")},function(s){stracer("page.balance.html").log("result:",s),null!=s&&window.SBalance.request("/main/user/update",{month_sbusi:s.value}).then(function(t){var e="";switch(s.value){case"P":e="시작일이 휴일일 경우 이전 금요일로 일자가 변경됩니다.";break;case"N":e="시작일이 휴일일 경우 다음 월요일로 일자가 변경됩니다.";break;default:e="시작일이 휴일일 경우 시작일을 변경하지 않습니다."}window.toast({title_class:"bg-success text-white",title_text:"정보 업데이트",mesg_text:e}),a(n)})})})}</script>