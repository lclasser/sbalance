function _setHelperFunction(e,t){return t.setBgColor=function(e){return this},t.setFgColor=function(e){return this},t.getItem=function(e){e=t.querySelector("#"+e);return _setHelperFunction(null,e),e},"row"==e&&(t.getData=function(){return t._data},t.getIndex=function(){return t._rowidx}),t}class CompSGridList{constructor(e,t){this.element=e,this.options=Object.assign({valign:"middle"},t||{}),this.columns=[],this.ebody=null,this.onClickRow=null,this.element.setAttribute("border-color",t["border-color"]),this.element.style.display="flex",this.element.style["flex-direction"]="column",this.element.style.flex="1",1!=this.element.classList.contains("_comp_slist")&&(this.element.classList.add("_comp_slist"),this.element.classList.add("_sborder"))}getRows(){return this.ebody.childNodes}removeAllRows(){return this.ebody.innerHTML=""}createGrid(e,t){var r=this,o={id:null,type:"string",width:"10%",halign:"center",valign:"middle"},l=(t=t||{},t=Object.assign({},r.options,{bgcolor:t["col-bgcolor"]||r.options["col-bgcolor"]||"#f7f7f7",fgcolor:t["col-fgcolor"]||r.options["col-fgcolor"]||"#000000",height:t["col-height"]||r.options["col-height"]||40,frozen:!0,kind:"column"},t),r.egrid=null,r.egrid=document.createElement("div"),r.egrid.style.overflow="auto",r.egrid.style.flex="1",r.egrid.style["border-color"]=r.options["border-color"]&&r.options["border-color"],r.element.append(r.egrid),r.columns=[],e.forEach(function(e){e=Object.assign({},o,e),r.columns.push(e)}),{});return r.columns.forEach(function(e,t){l[e.id]={text:e.text,type:"string"}}),r.ehead=r._insertRow(r.egrid,l,t,"ghead"),r.egrid.append(r.ehead),r.ebody=document.createElement("div"),r.egrid.append(r.ebody),r.element.onclick=function(e){for(var t=e.srcElement,o=null,l=null,n=t;n;){switch(n.getAttribute("grid-type")){case"grow":o=n;break;case"gcol":l=n}if(null!=o&&null!=l){"ghead"==o.getAttribute("grid-type")?(console.log("onClick COLUMN:",o,l,t),r.onClickCol({owner:l,data:o._data,column:l._column,element:t},e)):(console.log("onClick ROW   :",o,l,t),l._column.onClickCell&&l._column.onClickCell({owner:l,data:o._data,column:l._column,element:t},e),r.onClickRow&&r.onClickRow({owner:l,data:o._data,column:l._column,element:t},e));break}n=n.parentElement}},r.columns}_callOfValue(e,t){return"function"==typeof t?t(e):t}_priorityCall(e,t,o){return this._callOfValue(e,t)||this._callOfValue(e,o)}_insertRow(e,i,t,c){var s=this;null==e&&(e=s.ebody),c=c||"grow";var a=(a=document.createElement("div"))&&_setHelperFunction("row",a);return s.columns.forEach(function(e,t){var o=i[e.id]||"",l=null,l="object"==typeof(o="function"==typeof o?o(e):o)?Object.assign({},e,o):Object.assign({},e,{text:o}),n=document.createElement("div"),o=(n.setAttribute("grid-type","gcol"),n.className="ghead"===c?"_scol _shead":"_scol",s.columns.length<=t+1?n.style.flex="1":n.style.width=l.width,n.style["background-color"]=s._priorityCall(n,l.bgcolor),n.style["border-color"]=s.options["border-color"],n.style.padding="0.5em",l.class),r=("function"==typeof o&&(o=o(l)),l.class=s._priorityCall(n,l.class)||"",l.value=s._priorityCall(n,l.text)||"",null);switch(l.type){case"string":(r=document.createElement("span")).id=l.id,r.className=l.class+"_sval",r.innerHTML=l.value;break;case"callback":n.innerHTML=l.callback(l)}n._column=e,i[e.id]=l.value,null!=r&&n.append(r),null!=n&&a.append(n)}),a._data=i,a._rowidx=e.children.length,a.setAttribute("grid-type",c),a.className="_srow",a.style.height=t.height+"px",a.style["background-color"]=s._priorityCall(a,t.bgcolor,s.options.bgcolor),a.style.color=s._priorityCall(a,t.fgcolor,s.options.fgcolor),1==t.frozen&&(a.style.width="100%",a.style.top="0px",a.style.position="sticky"),e.append(a),a}insertRow(e,t){(t=t||{}).height=t.height||this.options["row-height"],t.bgcolor=t.bgcolor||this.options["row-bgcolor"],t.fgcolor=t.fgcolor||this.options["row-fgcolor"],this._insertRow(null,e,t)}}